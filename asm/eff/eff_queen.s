.include "macros.inc"


.section .text, "ax"  # 0x800055E0 - 0x802C0EE0

.global effQueenDisp
effQueenDisp:
/* 802542F8 002512F8  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 802542FC 002512FC  7C 08 02 A6 */	mflr r0
/* 80254300 00251300  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 80254304 00251304  93 E1 00 AC */	stw r31, 0xac(r1)
/* 80254308 00251308  93 C1 00 A8 */	stw r30, 0xa8(r1)
/* 8025430C 0025130C  7C 7E 1B 78 */	mr r30, r3
/* 80254310 00251310  83 E4 00 0C */	lwz r31, 0xc(r4)
/* 80254314 00251314  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 80254318 00251318  2C 00 FF FF */	cmpwi r0, -1
/* 8025431C 0025131C  41 82 00 F4 */	beq .L_80254410
/* 80254320 00251320  C0 3F 00 04 */	lfs f1, 4(r31)
/* 80254324 00251324  38 61 00 70 */	addi r3, r1, 0x70
/* 80254328 00251328  C0 5F 00 08 */	lfs f2, 8(r31)
/* 8025432C 0025132C  C0 7F 00 0C */	lfs f3, 0xc(r31)
/* 80254330 00251330  48 04 40 FD */	bl PSMTXTrans
/* 80254334 00251334  C0 5F 00 14 */	lfs f2, 0x14(r31)
/* 80254338 00251338  38 61 00 40 */	addi r3, r1, 0x40
/* 8025433C 0025133C  C0 1F 00 10 */	lfs f0, 0x10(r31)
/* 80254340 00251340  EC 20 00 B2 */	fmuls f1, f0, f2
/* 80254344 00251344  FC 60 08 90 */	fmr f3, f1
/* 80254348 00251348  48 04 41 65 */	bl PSMTXScale
/* 8025434C 0025134C  7F C3 F3 78 */	mr r3, r30
/* 80254350 00251350  4B DB AE 01 */	bl camGetPtr
/* 80254354 00251354  C0 23 01 14 */	lfs f1, 0x114(r3)
/* 80254358 00251358  38 61 00 10 */	addi r3, r1, 0x10
/* 8025435C 0025135C  C0 02 11 2C */	lfs f0, lbl_804224AC@sda21(r2)
/* 80254360 00251360  38 80 00 79 */	li r4, 0x79
/* 80254364 00251364  FC 20 08 50 */	fneg f1, f1
/* 80254368 00251368  EC 20 00 72 */	fmuls f1, f0, f1
/* 8025436C 0025136C  48 04 3E 81 */	bl PSMTXRotRad
/* 80254370 00251370  38 61 00 70 */	addi r3, r1, 0x70
/* 80254374 00251374  38 81 00 10 */	addi r4, r1, 0x10
/* 80254378 00251378  7C 65 1B 78 */	mr r5, r3
/* 8025437C 0025137C  48 04 3B E5 */	bl PSMTXConcat
/* 80254380 00251380  38 61 00 70 */	addi r3, r1, 0x70
/* 80254384 00251384  38 81 00 40 */	addi r4, r1, 0x40
/* 80254388 00251388  7C 65 1B 78 */	mr r5, r3
/* 8025438C 0025138C  48 04 3B D5 */	bl PSMTXConcat
/* 80254390 00251390  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 80254394 00251394  38 80 00 40 */	li r4, 0x40
/* 80254398 00251398  4B DE BC FD */	bl animPoseSetMaterialFlagOn
/* 8025439C 0025139C  80 62 11 28 */	lwz r3, lbl_804224A8@sda21(r2)
/* 802543A0 002513A0  38 81 00 0C */	addi r4, r1, 0xc
/* 802543A4 002513A4  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 802543A8 002513A8  90 61 00 08 */	stw r3, 8(r1)
/* 802543AC 002513AC  98 01 00 0B */	stb r0, 0xb(r1)
/* 802543B0 002513B0  80 01 00 08 */	lwz r0, 8(r1)
/* 802543B4 002513B4  90 01 00 0C */	stw r0, 0xc(r1)
/* 802543B8 002513B8  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 802543BC 002513BC  4B DE BC 5D */	bl animPoseSetMaterialEvtColor
/* 802543C0 002513C0  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 802543C4 002513C4  4B DE A2 CD */	bl animPoseMain
/* 802543C8 002513C8  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 802543CC 002513CC  38 81 00 70 */	addi r4, r1, 0x70
/* 802543D0 002513D0  C0 22 11 30 */	lfs f1, lbl_804224B0@sda21(r2)
/* 802543D4 002513D4  38 A0 00 01 */	li r5, 1
/* 802543D8 002513D8  C0 42 11 34 */	lfs f2, lbl_804224B4@sda21(r2)
/* 802543DC 002513DC  4B DE 6A 61 */	bl animPoseDrawMtx
/* 802543E0 002513E0  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 802543E4 002513E4  38 81 00 70 */	addi r4, r1, 0x70
/* 802543E8 002513E8  C0 22 11 30 */	lfs f1, lbl_804224B0@sda21(r2)
/* 802543EC 002513EC  38 A0 00 02 */	li r5, 2
/* 802543F0 002513F0  C0 42 11 34 */	lfs f2, lbl_804224B4@sda21(r2)
/* 802543F4 002513F4  4B DE 6A 49 */	bl animPoseDrawMtx
/* 802543F8 002513F8  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 802543FC 002513FC  38 81 00 70 */	addi r4, r1, 0x70
/* 80254400 00251400  C0 22 11 30 */	lfs f1, lbl_804224B0@sda21(r2)
/* 80254404 00251404  38 A0 00 03 */	li r5, 3
/* 80254408 00251408  C0 42 11 34 */	lfs f2, lbl_804224B4@sda21(r2)
/* 8025440C 0025140C  4B DE 6A 31 */	bl animPoseDrawMtx
.L_80254410:
/* 80254410 00251410  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 80254414 00251414  83 E1 00 AC */	lwz r31, 0xac(r1)
/* 80254418 00251418  83 C1 00 A8 */	lwz r30, 0xa8(r1)
/* 8025441C 0025141C  7C 08 03 A6 */	mtlr r0
/* 80254420 00251420  38 21 00 B0 */	addi r1, r1, 0xb0
/* 80254424 00251424  4E 80 00 20 */	blr 
effQueenMain:
/* 80254428 00251428  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8025442C 0025142C  7C 08 02 A6 */	mflr r0
/* 80254430 00251430  3C 80 80 30 */	lis r4, lbl_803014C8@ha
/* 80254434 00251434  90 01 00 44 */	stw r0, 0x44(r1)
/* 80254438 00251438  38 A4 14 C8 */	addi r5, r4, lbl_803014C8@l
/* 8025443C 0025143C  93 E1 00 3C */	stw r31, 0x3c(r1)
/* 80254440 00251440  93 C1 00 38 */	stw r30, 0x38(r1)
/* 80254444 00251444  7C 7E 1B 78 */	mr r30, r3
/* 80254448 00251448  93 A1 00 34 */	stw r29, 0x34(r1)
/* 8025444C 0025144C  83 E3 00 0C */	lwz r31, 0xc(r3)
/* 80254450 00251450  80 85 00 00 */	lwz r4, 0(r5)
/* 80254454 00251454  80 65 00 04 */	lwz r3, 4(r5)
/* 80254458 00251458  80 05 00 08 */	lwz r0, 8(r5)
/* 8025445C 0025145C  90 81 00 08 */	stw r4, 8(r1)
/* 80254460 00251460  C0 1F 00 04 */	lfs f0, 4(r31)
/* 80254464 00251464  90 61 00 0C */	stw r3, 0xc(r1)
/* 80254468 00251468  C0 3F 00 08 */	lfs f1, 8(r31)
/* 8025446C 0025146C  D0 01 00 08 */	stfs f0, 8(r1)
/* 80254470 00251470  C0 1F 00 0C */	lfs f0, 0xc(r31)
/* 80254474 00251474  90 01 00 10 */	stw r0, 0x10(r1)
/* 80254478 00251478  80 A1 00 08 */	lwz r5, 8(r1)
/* 8025447C 0025147C  D0 21 00 0C */	stfs f1, 0xc(r1)
/* 80254480 00251480  80 8D 90 B0 */	lwz r4, gp@sda21(r13)
/* 80254484 00251484  D0 01 00 10 */	stfs f0, 0x10(r1)
/* 80254488 00251488  80 61 00 0C */	lwz r3, 0xc(r1)
/* 8025448C 0025148C  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80254490 00251490  90 A1 00 14 */	stw r5, 0x14(r1)
/* 80254494 00251494  90 61 00 18 */	stw r3, 0x18(r1)
/* 80254498 00251498  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8025449C 0025149C  80 7E 00 00 */	lwz r3, 0(r30)
/* 802544A0 002514A0  80 A4 00 14 */	lwz r5, 0x14(r4)
/* 802544A4 002514A4  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 802544A8 002514A8  7C 85 00 D0 */	neg r4, r5
/* 802544AC 002514AC  7C 84 2B 78 */	or r4, r4, r5
/* 802544B0 002514B0  54 9D 0F FE */	srwi r29, r4, 0x1f
/* 802544B4 002514B4  41 82 00 14 */	beq .L_802544C8
/* 802544B8 002514B8  54 63 07 B8 */	rlwinm r3, r3, 0, 0x1e, 0x1c
/* 802544BC 002514BC  38 00 00 64 */	li r0, 0x64
/* 802544C0 002514C0  90 7E 00 00 */	stw r3, 0(r30)
/* 802544C4 002514C4  90 1F 00 20 */	stw r0, 0x20(r31)
.L_802544C8:
/* 802544C8 002514C8  3C 60 80 30 */	lis r3, lbl_803014D4@ha
/* 802544CC 002514CC  7F A4 EB 78 */	mr r4, r29
/* 802544D0 002514D0  38 63 14 D4 */	addi r3, r3, lbl_803014D4@l
/* 802544D4 002514D4  38 A0 00 00 */	li r5, 0
/* 802544D8 002514D8  4B DE 51 99 */	bl animGroupBaseAsync
/* 802544DC 002514DC  2C 03 00 00 */	cmpwi r3, 0
/* 802544E0 002514E0  41 82 01 10 */	beq .L_802545F0
/* 802544E4 002514E4  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 802544E8 002514E8  2C 00 FF FF */	cmpwi r0, -1
/* 802544EC 002514EC  40 82 00 28 */	bne .L_80254514
/* 802544F0 002514F0  3C 60 80 30 */	lis r3, lbl_803014D4@ha
/* 802544F4 002514F4  7F A4 EB 78 */	mr r4, r29
/* 802544F8 002514F8  38 63 14 D4 */	addi r3, r3, lbl_803014D4@l
/* 802544FC 002514FC  4B DE CB D5 */	bl animPoseEntry
/* 80254500 00251500  90 7F 00 18 */	stw r3, 0x18(r31)
/* 80254504 00251504  38 82 11 38 */	addi r4, r2, lbl_804224B8@sda21
/* 80254508 00251508  38 A0 00 01 */	li r5, 1
/* 8025450C 0025150C  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 80254510 00251510  4B DE C5 C5 */	bl animPoseSetAnim
.L_80254514:
/* 80254514 00251514  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 80254518 00251518  2C 03 03 E8 */	cmpwi r3, 0x3e8
/* 8025451C 0025151C  40 80 00 0C */	bge .L_80254528
/* 80254520 00251520  38 03 FF FF */	addi r0, r3, -1
/* 80254524 00251524  90 1F 00 20 */	stw r0, 0x20(r31)
.L_80254528:
/* 80254528 00251528  80 1F 00 20 */	lwz r0, 0x20(r31)
/* 8025452C 0025152C  2C 00 00 00 */	cmpwi r0, 0
/* 80254530 00251530  40 80 00 20 */	bge .L_80254550
/* 80254534 00251534  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 80254538 00251538  2C 03 FF FF */	cmpwi r3, -1
/* 8025453C 0025153C  41 82 00 08 */	beq .L_80254544
/* 80254540 00251540  4B DE 66 F5 */	bl animPoseRelease
.L_80254544:
/* 80254544 00251544  7F C3 F3 78 */	mr r3, r30
/* 80254548 00251548  4B E0 96 3D */	bl effDelete
/* 8025454C 0025154C  48 00 00 A4 */	b .L_802545F0
.L_80254550:
/* 80254550 00251550  2C 00 00 64 */	cmpwi r0, 0x64
/* 80254554 00251554  40 80 00 14 */	bge .L_80254568
/* 80254558 00251558  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 8025455C 0025155C  38 03 FF FD */	addi r0, r3, -3
/* 80254560 00251560  90 1F 00 24 */	stw r0, 0x24(r31)
/* 80254564 00251564  48 00 00 10 */	b .L_80254574
.L_80254568:
/* 80254568 00251568  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 8025456C 0025156C  38 03 00 03 */	addi r0, r3, 3
/* 80254570 00251570  90 1F 00 24 */	stw r0, 0x24(r31)
.L_80254574:
/* 80254574 00251574  80 9F 00 28 */	lwz r4, 0x28(r31)
/* 80254578 00251578  3C 00 43 30 */	lis r0, 0x4330
/* 8025457C 0025157C  90 01 00 20 */	stw r0, 0x20(r1)
/* 80254580 00251580  3C 60 80 30 */	lis r3, lbl_803014F0@ha
/* 80254584 00251584  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 80254588 00251588  C8 23 14 F0 */	lfd f1, lbl_803014F0@l(r3)
/* 8025458C 0025158C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80254590 00251590  C0 42 11 3C */	lfs f2, lbl_804224BC@sda21(r2)
/* 80254594 00251594  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 80254598 00251598  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 8025459C 0025159C  EC 00 08 28 */	fsubs f0, f0, f1
/* 802545A0 002515A0  EC 02 00 32 */	fmuls f0, f2, f0
/* 802545A4 002515A4  FC 00 00 1E */	fctiwz f0, f0
/* 802545A8 002515A8  D8 01 00 28 */	stfd f0, 0x28(r1)
/* 802545AC 002515AC  80 61 00 2C */	lwz r3, 0x2c(r1)
/* 802545B0 002515B0  7C 00 18 00 */	cmpw r0, r3
/* 802545B4 002515B4  40 81 00 08 */	ble .L_802545BC
/* 802545B8 002515B8  90 7F 00 24 */	stw r3, 0x24(r31)
.L_802545BC:
/* 802545BC 002515BC  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 802545C0 002515C0  2C 00 00 00 */	cmpwi r0, 0
/* 802545C4 002515C4  40 80 00 0C */	bge .L_802545D0
/* 802545C8 002515C8  38 00 00 00 */	li r0, 0
/* 802545CC 002515CC  90 1F 00 24 */	stw r0, 0x24(r31)
.L_802545D0:
/* 802545D0 002515D0  38 61 00 14 */	addi r3, r1, 0x14
/* 802545D4 002515D4  4B DB C0 ED */	bl dispCalcZ
/* 802545D8 002515D8  3C 60 80 25 */	lis r3, effQueenDisp@ha
/* 802545DC 002515DC  7F C6 F3 78 */	mr r6, r30
/* 802545E0 002515E0  38 A3 42 F8 */	addi r5, r3, effQueenDisp@l
/* 802545E4 002515E4  38 80 00 02 */	li r4, 2
/* 802545E8 002515E8  38 60 00 04 */	li r3, 4
/* 802545EC 002515EC  4B DB C4 2D */	bl dispEntry
.L_802545F0:
/* 802545F0 002515F0  80 01 00 44 */	lwz r0, 0x44(r1)
/* 802545F4 002515F4  83 E1 00 3C */	lwz r31, 0x3c(r1)
/* 802545F8 002515F8  83 C1 00 38 */	lwz r30, 0x38(r1)
/* 802545FC 002515FC  83 A1 00 34 */	lwz r29, 0x34(r1)
/* 80254600 00251600  7C 08 03 A6 */	mtlr r0
/* 80254604 00251604  38 21 00 40 */	addi r1, r1, 0x40
/* 80254608 00251608  4E 80 00 20 */	blr 

.global effQueenEntry
effQueenEntry:
/* 8025460C 0025160C  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 80254610 00251610  7C 08 02 A6 */	mflr r0
/* 80254614 00251614  90 01 00 64 */	stw r0, 0x64(r1)
/* 80254618 00251618  DB E1 00 50 */	stfd f31, 0x50(r1)
/* 8025461C 0025161C  F3 E1 00 58 */	psq_st f31, 88(r1), 0, qr0
/* 80254620 00251620  DB C1 00 40 */	stfd f30, 0x40(r1)
/* 80254624 00251624  F3 C1 00 48 */	psq_st f30, 72(r1), 0, qr0
/* 80254628 00251628  DB A1 00 30 */	stfd f29, 0x30(r1)
/* 8025462C 0025162C  F3 A1 00 38 */	psq_st f29, 56(r1), 0, qr0
/* 80254630 00251630  DB 81 00 20 */	stfd f28, 0x20(r1)
/* 80254634 00251634  F3 81 00 28 */	psq_st f28, 40(r1), 0, qr0
/* 80254638 00251638  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8025463C 0025163C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80254640 00251640  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80254644 00251644  FF 80 08 90 */	fmr f28, f1
/* 80254648 00251648  7C 7D 1B 78 */	mr r29, r3
/* 8025464C 0025164C  FF A0 10 90 */	fmr f29, f2
/* 80254650 00251650  7C 9E 23 78 */	mr r30, r4
/* 80254654 00251654  FF C0 18 90 */	fmr f30, f3
/* 80254658 00251658  FF E0 20 90 */	fmr f31, f4
/* 8025465C 0025165C  4B E0 97 61 */	bl effEntry
/* 80254660 00251660  38 82 11 40 */	addi r4, r2, lbl_804224C0@sda21
/* 80254664 00251664  7C 7F 1B 78 */	mr r31, r3
/* 80254668 00251668  90 83 00 14 */	stw r4, 0x14(r3)
/* 8025466C 0025166C  38 00 00 01 */	li r0, 1
/* 80254670 00251670  38 60 00 03 */	li r3, 3
/* 80254674 00251674  90 1F 00 08 */	stw r0, 8(r31)
/* 80254678 00251678  80 1F 00 08 */	lwz r0, 8(r31)
/* 8025467C 0025167C  1C 80 00 2C */	mulli r4, r0, 0x2c
/* 80254680 00251680  4B DD B4 0D */	bl __memAlloc
/* 80254684 00251684  3C 80 80 25 */	lis r4, effQueenMain@ha
/* 80254688 00251688  90 7F 00 0C */	stw r3, 0xc(r31)
/* 8025468C 0025168C  38 04 44 28 */	addi r0, r4, effQueenMain@l
/* 80254690 00251690  C0 02 11 30 */	lfs f0, lbl_804224B0@sda21(r2)
/* 80254694 00251694  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80254698 00251698  2C 1E 00 00 */	cmpwi r30, 0
/* 8025469C 0025169C  80 1F 00 00 */	lwz r0, 0(r31)
/* 802546A0 002516A0  60 00 00 02 */	ori r0, r0, 2
/* 802546A4 002516A4  90 1F 00 00 */	stw r0, 0(r31)
/* 802546A8 002516A8  93 A3 00 00 */	stw r29, 0(r3)
/* 802546AC 002516AC  D3 83 00 04 */	stfs f28, 4(r3)
/* 802546B0 002516B0  D3 A3 00 08 */	stfs f29, 8(r3)
/* 802546B4 002516B4  D3 C3 00 0C */	stfs f30, 0xc(r3)
/* 802546B8 002516B8  D3 E3 00 14 */	stfs f31, 0x14(r3)
/* 802546BC 002516BC  D0 03 00 10 */	stfs f0, 0x10(r3)
/* 802546C0 002516C0  41 81 00 10 */	bgt .L_802546D0
/* 802546C4 002516C4  38 00 03 E8 */	li r0, 0x3e8
/* 802546C8 002516C8  90 03 00 20 */	stw r0, 0x20(r3)
/* 802546CC 002516CC  48 00 00 08 */	b .L_802546D4
.L_802546D0:
/* 802546D0 002516D0  93 C3 00 20 */	stw r30, 0x20(r3)
.L_802546D4:
/* 802546D4 002516D4  38 A0 00 00 */	li r5, 0
/* 802546D8 002516D8  38 80 FF FF */	li r4, -1
/* 802546DC 002516DC  90 A3 00 1C */	stw r5, 0x1c(r3)
/* 802546E0 002516E0  38 00 00 FF */	li r0, 0xff
/* 802546E4 002516E4  C0 02 11 48 */	lfs f0, lbl_804224C8@sda21(r2)
/* 802546E8 002516E8  90 83 00 18 */	stw r4, 0x18(r3)
/* 802546EC 002516EC  90 A3 00 24 */	stw r5, 0x24(r3)
/* 802546F0 002516F0  90 03 00 28 */	stw r0, 0x28(r3)
/* 802546F4 002516F4  D0 03 00 10 */	stfs f0, 0x10(r3)
/* 802546F8 002516F8  7F E3 FB 78 */	mr r3, r31
/* 802546FC 002516FC  E3 E1 00 58 */	psq_l f31, 88(r1), 0, qr0
/* 80254700 00251700  CB E1 00 50 */	lfd f31, 0x50(r1)
/* 80254704 00251704  E3 C1 00 48 */	psq_l f30, 72(r1), 0, qr0
/* 80254708 00251708  CB C1 00 40 */	lfd f30, 0x40(r1)
/* 8025470C 0025170C  E3 A1 00 38 */	psq_l f29, 56(r1), 0, qr0
/* 80254710 00251710  CB A1 00 30 */	lfd f29, 0x30(r1)
/* 80254714 00251714  E3 81 00 28 */	psq_l f28, 40(r1), 0, qr0
/* 80254718 00251718  CB 81 00 20 */	lfd f28, 0x20(r1)
/* 8025471C 0025171C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80254720 00251720  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80254724 00251724  80 01 00 64 */	lwz r0, 0x64(r1)
/* 80254728 00251728  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8025472C 0025172C  7C 08 03 A6 */	mtlr r0
/* 80254730 00251730  38 21 00 60 */	addi r1, r1, 0x60
/* 80254734 00251734  4E 80 00 20 */	blr 
